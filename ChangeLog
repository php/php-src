2002-01-14  Chris Jarecki  <zenderx@ipro.pl>

    * ext/domxml/php_domxml.c: - using macro in xpath_register_ns()
    - fixed protos in xpath functions

2002-01-14  Martin Jansen  <mail@martin-jansen.de>

    * pear/Date/Calc.php: * Fix for bug #15032.

2002-01-14  Stefan Esser  <s.esser@e-matters.de>

    * main/SAPI.c: MFH: fix for bug #14776

    * main/SAPI.c: fix for bug #14776

2002-01-14  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * ext/mbstring/mbregex.c:
    fixed an error in mbstring caused by confliction with regex.

2002-01-13  Edin Kadribasic  <edink@proventum.net>

    * acinclude.m4
      sapi/cli/Makefile.in:
    Fixed build in the directory other than $top_srcdir.

2002-01-13  Thomas V.V.Cox  <cox@idecnet.com>

    * pear/DB/ibase.php:
    Added modifyLimitQuery(). Only avaible for the Firebird syntax
    (ibase(firebird)://user:pass@host/db)
    (contributed by Ludovico Magnocavallo <ludo@sumatrasolutions.com>)

    * pear/DB/tests/db_parsedsn.phpt: Two tests more

    * pear/DB/mysql.php:
    Added support for socket and port options in connect()

    * pear/DB/pgsql.php: better DSN handling

    * pear/DB/tests/db_parsedsn.phpt: Test update

    * pear/DB.php: New DSN "protcocol(protocol_opts)" format support:
    phptype://user:pass@protocol(proto_opts)/database
    ex:
    pgsql://user@unix()/pear
    mysql://user@unix(/path/to/socket)/pear
    pgsql://user:pass@word@tcp(somehost:7777)/pear

2002-01-13  Rasmus Lerdorf  <rasmus@php.net>

    * NEWS: 4.1.1 NEWS entry block was missing from the HEAD tree

2002-01-13  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * ext/gd/config.m4: fixed some link error of gd's configure.

2002-01-13  Edin Kadribasic  <edink@proventum.net>

    * sapi/cli/Makefile.in
      Makefile.in:
    This should fix cli build when running 'make install' directly.

2002-01-13  Chris Jarecki  <zenderx@ipro.pl>

    * ext/domxml/php_domxml.c
      ext/domxml/php_domxml.h:  - Added xpath_register_ns() function.

2002-01-12  Edin Kadribasic  <edink@proventum.net>

    * sapi/cli/Makefile.in:
    Fixed CLI build when the main SAPI is built as a shered library.

    * Makefile.in
      acinclude.m4
      configure.in
      sapi/cli/.cvsignore
      sapi/cli/Makefile.in
      sapi/cli/config.m4: Modified the build system to always build CLI SAPI.

2002-01-12  Gavin Sherry  <swm@linuxworld.com.au>

    * ext/dba/dba_db2.c:
    My bad. Left some stray debugging code in previous commit.

    * ext/dba/dba_db2.c: See the update to dba_db3.c

    * ext/dba/dba_db3.c:
    This fixes the notorious "mode 'c' fails" bug (see bugs - 10380, 10798, 11732). The bug originates from the fact that mode "c" for db3 sets 'type' to DB_UNKNOWN and mode DB_CREATE when the database already exists. The underlying library raises an error at this logical discrepancy: obviously one cannot create a database of unknown type.

2002-01-12  Vlad Krupin  <phpdevel@echospace.com>

    * ext/imap/php_imap.c:
    Fixed segfault in imap_bodystruct() when called with an invalid message
    number. Now it fails with a warning instead.

2002-01-11  Jaroslaw Kolakowski  <J.Kolakowski@students.mimuw.edu.pl>

    * ext/domxml/php_domxml.c
      ext/domxml/php_domxml.h: Added domxml_node_replace_node() function.

2002-01-11  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * ext/mbstring/Makefile.in
      ext/mbstring/config.m4
      ext/mbstring/mbregex.c
      ext/mbstring/mbregex.h
      ext/mbstring/mbstring.c
      ext/mbstring/mbstring.h
      ext/mbstring/php_mbregex.c:
    Added multi-byte enabled regex functions. 

2002-01-11  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/standard/file.c:
    - mkdir(): made second (mode) parameter optional, default to 0777
               switched to zend_parse_parameters().

2002-01-11  Thomas V.V.Cox  <cox@idecnet.com>

    * pear/HTTP.php:
    - Added HTTP::head($url) which sends a "HEAD" HTTP command to a server
      and returns the headers as an associative array
    - Call-time pass-by-reference fixes

    * pear/tests/pear1.phpt:
    submit a test that will fail due to php bug #14744

2002-01-10  Frank M. Kromann  <frank@frontbase.com>

    * ext/fbsql/php_fbsql.c
      ext/fbsql/php_fbsql.h:
    Adding functions to get BLOB/CLOB size from a lob_handle.
    Added descriptions on most protos

2002-01-10  Andrei Zmievski  <andrei@ispi.net>

    * NEWS
      ext/standard/array.c:
    Fix the recursive counting, it was broken for associative or non-sequential
    arrays. Also update NEWS file.

2002-01-10  Derick Rethans  <d.rethans@jdimedia.nl>

    * main/main.c:
    - Make an E_NOTICE error type show 'Notice' instead of 'Warning'.

2002-01-10  Yasuo Ohgaki  <yohgaki@dd.iij4u.or.jp>

    * ext/session/mod_mm.c: Fix startup crash

2002-01-10  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/dio/dio.c: - Unified error messages.
    - Improved argument handling in dio_fcntl().

2002-01-10  Yasuo Ohgaki  <yohgaki@dd.iij4u.or.jp>

    * ext/session/mod_mm.c: Revert last commit

2002-01-10  Sascha Schumann  <sascha@schumann.cx>

    * ext/session/mod_mm.c: Improved code for handling PS(save_path)

    Don't MFH before further testing

    * ext/session/mod_mm.c: Ws fix

    * ext/standard/filestat.c:
    (PHP touch) Operate on a stack buffer.. no need for allocating newtime
    on the heap.

    * ext/standard/filestat.c:
    Add three-parameter touch() which enables users to set
    mtime/atime to different values.

2002-01-10  Yasuo Ohgaki  <yohgaki@dd.iij4u.or.jp>

    * ext/pgsql/tests/dropdb.inc: Fix bug in test script

    * ext/session/mod_mm.c: MFH

    * ext/session/mod_mm.c: Make use of save_path for mm file.
    Patch by Henning Schmiedehausen <hps@intermeta.de>
    Closes bug 14808

2002-01-10  Sascha Schumann  <sascha@schumann.cx>

    * ext/session/tests/003.phpt
      ext/session/tests/004.phpt
      ext/session/tests/005.phpt
      ext/session/tests/006.phpt:
    Make these tests succeed with non-standard settings

2002-01-10  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/domxml/php_domxml.h: - Fix compilation. (Christian Stocker)

2002-01-10  Yasuo Ohgaki  <yohgaki@dd.iij4u.or.jp>

    * header: Year update

    * EXTENSIONS: shmop got a new maintainer

2002-01-09  jim winstead  <jimw@apache.org>

    * ext/standard/tests/math/pow.phpt
      NEWS
      ext/standard/basic_functions.c
      ext/standard/math.c
      ext/standard/php_math.h:
    Rename finite/isinf/isnan to more standard is_*() names.

    * ext/standard/type.h
      ext/standard/php_type.h
      ext/standard/type.c
      ext/standard/basic_functions.h
      ext/standard/php_standard.h
      ext/standard/basic_functions.c
      main/rfc1867.c:
    Move type-handling functions into ext/standard/type.c (which had
    a few otherwise unused functions in it).

2002-01-09  Martin Jansen  <mail@martin-jansen.de>

    * pear/XML/Parser.php: * Whitespace.

2002-01-09  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/sockets/sockets.c: - Correct some protos.

2002-01-09  Derick Rethans  <d.rethans@jdimedia.nl>

    * ext/standard/tests/array/count_recursive.phpt
      ext/standard/array.c: - Fix bug introduced in earlier patch

2002-01-09  Yasuo Ohgaki  <yohgaki@dd.iij4u.or.jp>

    * ext/shmop/README
      ext/shmop/php_shmop.h
      ext/shmop/shmop.c: MFH.
    Bugs 10530,10656,14784

2002-01-09  Uwe Steinmann  <Uwe.Steinmann@fernuni-hagen.de>

    * ext/pgsql/pgsql.c: - fixed typo in deprecated functionname

2002-01-09  Yasuo Ohgaki  <yohgaki@dd.iij4u.or.jp>

    * ext/shmop/README
      ext/shmop/config.m4
      ext/shmop/php_shmop.h
      ext/shmop/shmop.c:
    - shmop_open has a new flag for read/write access, 'w'
    - eliminated a segfault when trying to write to a SHM_RDONLY segment
    - eliminated a segfault when an invalid flag which starts with 'a' or 'c' is passed
    - updated creators' email addresses
    - changed error messages to say shmop_* instead of shm* to correspond with new shmop_* function names
    Patch by Ilia Alshanetsky (ilia@prohost.org)

2002-01-09  Jani Taskinen  <sniper@iki.fi>

    * ext/domxml/php_domxml.h: - Fixed compile with older libxml.

    * configure.in: - Fixed the creation of pear-get script.

    * acinclude.m4
      configure.in:
    Reverted Hartmut's patch as it caused more trouble than it solved.

    * ext/readline/config.m4: whitespace

2002-01-08  Jan Lehnardt  <jan@lehnardt.de>

    * pear/HTML/Form.php
      pear/HTML/Page.php:
    fix two warnings, thanks to  Erik Hjortsberg <erik@hysteriskt.nu>

2002-01-08  Jaroslaw Kolakowski  <J.Kolakowski@students.mimuw.edu.pl>

    * ext/domxml/php_domxml.c
      ext/domxml/php_domxml.h: A
    Changed names of functions:
    - htmldoc() to html_doc(),
    - htmldocfile() to html_doc_file(),
    - domxml_htmldumpmem() to domxml_html_dump_mem(),
    - htmldumpmem() to html_dump_mem().

2002-01-08  Jani Taskinen  <sniper@iki.fi>

    * ext/ext_skel:
    Some whitespace fixes (naugthy me :) and make use of PHP_CHECK_LIBRARY
    macro instead of AC_CHECK_LIB.


2002-01-08  Sterling Hughes  <sterling@designmultimedia.com>

    * ext/sockets/sockets.c: Changed proto via Georg Richter's request.

2002-01-08  Jaroslaw Kolakowski  <J.Kolakowski@students.mimuw.edu.pl>

    * ext/domxml/php_domxml.h
      ext/domxml/php_domxml.c
      ext/domxml/config.m4:
    - Added functions: htmldoc(), htmldocfile(), domxml_htmldumpmem().
    - Added error handling for the libxml library.
    - Added preliminary DOM XSLT support:
    -- uses the libxslt library,
    -- operates on DOM objects, not strings,
    -- functions: domxml_xslt_process(), domxml_xslt_version().

2002-01-07  James Cox  <james@awpimajes.com>

    * win32/install.txt:
    browscap url fix, plus removed ^M references. it should look nice on any os.

    * win32/install.txt:
    changed the instructions for php with win32 + apache. Recommending using sapi
    over cgi binary, since cgi binary and apache don't mix well security wise.

2002-01-07  Yasuo Ohgaki  <yohgaki@dd.iij4u.or.jp>

    * ext/session/session.c: MFH

    * NEWS: New PostgreSQL functions

2002-01-07  Egon Schmid  <eschmid@s.netic.de>

    * ext/mbstring/mbstring.c: Fixed some protos.

2002-01-07  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * ext/mbstring/mbstring.c
      ext/mbstring/mbstring.h:
    added mb_get_info() to get internal settings of mbstring.

2002-01-07  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/domxml/php_domxml.c:
    - Fix domxml_node_unlink_node() proto and return value.

2002-01-07  Thomas V.V.Cox  <cox@idecnet.com>

    * pear/HTTP.php: ws

2002-01-06  Stig Venaas  <venaas@uninett.no>

    * ext/ftp/ftp.c
      ext/ftp/ftp.h: Added IPv6 support

    * main/network.c
      main/php_network.h:
    hostconnect now divides the timeout with no. of addresses. If a connection
    attempt times out, it goes on to the next. Unless each timeout would be
    <5s. Added php_any_addr() that fills out the any address for IPv6 and IPv4.

2002-01-06  Thomas V.V.Cox  <cox@idecnet.com>

    * pear/scripts/pear-get.in
      pear/scripts/pear.in:
    use the new Console_Getopt::readPHPArgv() function to read args

    * pear/Console/Getopt.php:
    Added readPHPArgv() function that will safely read the $argv PHP array
    across different PHP configurations. Will take care on register_globals
    and register_argc_argv ini directives and the new $_SERVER vars

2002-01-06  Edin Kadribasic  <edink@proventum.net>

    * sapi/cli/.cvsignore
      sapi/cli/CREDITS
      sapi/cli/Makefile.in
      sapi/cli/config.m4
      sapi/cli/getopt.c
      sapi/cli/php_cli.c
      sapi/cli/php_getopt.h:    Added CLI (command line intrerface) sapi.

    * main/SAPI.h
      main/main.c:
    Added argc and argv in request_info needed for the new cli sapi.
    Modified registering $argc and $argv to support cli sapi.

2002-01-06  Stig Venaas  <venaas@uninett.no>

    * ext/sockets/php_sockets.h
      ext/sockets/sockets.c
      main/network.c
      main/php_network.h
      configure.in:
    Added some consts for arguments in network.c declarations. Moved
    php_sockaddr_storage to php_network.h and added check for struct
    sockaddr_storage

2002-01-06  Thomas V.V.Cox  <cox@idecnet.com>

    * pear/DB/tests/driver/setup.inc: pgsql->mysql

2002-01-06  Stig Bakken  <ssb@fast.no>

    * ChangeLog.2001.gz: * archive the 2001 changelog

2002-01-06  Thomas V.V.Cox  <cox@idecnet.com>

    * pear/DB/tests/pgsql/09numrows.phpt
      pear/DB/tests/mysql/09numrows.phpt: this test is no longer here

    * pear/DB/tests/driver/01connect.phpt
      pear/DB/tests/driver/02fetch.phpt
      pear/DB/tests/driver/03simplequery.phpt
      pear/DB/tests/driver/04numcols.phpt
      pear/DB/tests/driver/05sequences.phpt
      pear/DB/tests/driver/06prepexec.phpt
      pear/DB/tests/driver/08affectedrows.phpt
      pear/DB/tests/driver/09numrows.phpt
      pear/DB/tests/driver/10errormap.phpt
      pear/DB/tests/driver/13limit.phpt
      pear/DB/tests/driver/14fetchmode_object.phpt
      pear/DB/tests/driver/README
      pear/DB/tests/driver/connect.inc
      pear/DB/tests/driver/mktable.inc
      pear/DB/tests/driver/setup.inc
      pear/DB/tests/driver/skipif.inc: Multi-Driver portability test

    * pear/DB/tests/errors.inc
      pear/DB/tests/limit.inc
      pear/DB/tests/numrows.inc
      pear/DB/tests/tableinfo.inc: test updates

    * pear/DB/oci8.php: - use count(*) instead of count(a, b)
    - preserve the error handler when testing the sequence
    - missing E_ALL fixes

    * pear/DB/oci8.php: - change the case of column names to lower case when
      "optimize=portability" (use a slow php array_change_key_case() until
      PHP get its C native version avaible. Please do it!)
    - Improved error reporting in connection

2002-01-05  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/domxml/php_domxml.c:
    - Refuse attribute nodes on add_child() and add list destructor for PI
      nodes. (Christian Stocker)
    - Fix append_child() according to add_child().
    - Fix some protos, minor code and warning message cosmetics.

2002-01-05  jim winstead  <jimw@apache.org>

    * ext/standard/tests/strings/wordwrap.phpt
      ext/standard/string.c:
    More tweaking of wordwrap() with the cut parameter set. It was being a
    little too aggressive and cutting words without breaking at spaces
    first. (A couple of tests were incorrect.)

    * ext/standard/tests/strings/wordwrap.phpt
      ext/standard/string.c:
    New memcpy()-based wordwrap() implementation. The simple case
    (single-character break, no forced break) appears to be about 60%
    faster, and there's simply no comparison for non-simple cases with
    non-trivial amounts of text. The old algorithm was O(n^2) (with an
    unfortunately large constant factor) because of the use of strncat(),
    the new one is O(n). Added some more tests, too.

2002-01-05  Thomas V.V.Cox  <cox@idecnet.com>

    * pear/scripts/pear-get.in
      pear/scripts/pear.in: Added check for $argv avaible
    (thanks Michael Härtl <mhaertl@pressline.de>)

2002-01-05  jim winstead  <jimw@apache.org>

    * ext/standard/math.c: Fix the Win32 compile.

2002-01-05  Egon Schmid  <eschmid@s.netic.de>

    * ext/standard/math.c
      ext/standard/basic_functions.c: Fixed some protos.

2002-01-05  jim winstead  <jimw@apache.org>

    * ext/standard/math.c:
    Apparently multi_convert_to_double_ex() didn't quite do what I
    thought. Still need to handle numeric strings.

    * ext/standard/tests/math/pow.phpt
      ext/standard/basic_functions.c
      ext/standard/math.c
      ext/standard/php_math.h:
    Fixed pow(), and added finite(), isinf(), and isnan(). Also fixed
    pow() tests.

    * ext/standard/tests/math/pow.phpt:
    good grief, positive powers of 0 are well-defined. (code fix coming.)

    * ext/standard/reg.c:
    Be more aggressive in making sure that substring matches are valid in
    ereg_replace before trying to use them.

2002-01-05  Zak Greant  <zak@jobvillage.com>

    * ext/standard/tests/array/array_data.txt:
    Surprising how tests can fail when they don't have any supporting data :) Thanks for the catch Jan and Jim

2002-01-04  Jon Parise  <jon@csh.rit.edu>

    * main/rfc1867.c: Nuke unused variable warning (end_arr).

2002-01-04  Stig Venaas  <venaas@uninett.no>

    * ext/ldap/ldap.c
      ext/ldap/php_ldap.h:
    Made ldap_modify() an alias for ldap_mod_replace(). The two were identical.

2002-01-04  jim winstead  <jimw@apache.org>

    * ext/standard/tests/strings/wordwrap.phpt
      ext/standard/string.c:
    Fixed segfault in wordwrap() when wrapping to zero width and using
    multi-character break or trying to force cut (bug #12768, now fails
    and issues a warning because forcing a zero-width cut doesn't make
    sense). Also converted to new paramater-passing API and avoid making
    an extra copy of the return values.

2002-01-04  Sterling Hughes  <sterling@designmultimedia.com>

    * ext/dio/dio.c: Added the O_NOCTTY option, for terminal i/o.

2002-01-04  Hartmut Holzgraefe  <hartmut@six.de>

    * configure.in: first PHP_EXTENSION_LIBS casualty :(

2002-01-04  Ben Mansell  <ben@zeus.com>

    * sapi/fastcgi/fastcgi.c:
    Added log_message function to the FastCGI sapi, so you can see error
    output from scripts

2002-01-04  Hartmut Holzgraefe  <hartmut@six.de>

    * ext/ncurses/config.m4: ncurses is useless in webserver modules

    * ext/xmlrpc/config.m4
      ext/xslt/config.m4: more unquoted messages with kommas fixed

    * ext/mcrypt/config.m4:
    always quote messages with [...], *especialy* when using kommas in the text

    * ext/domxml/php_domxml.c: proto fixes

    * ext/pcntl/config.m4: use predefined function instead of hardcoded test

    * ext/pcntl/pcntl.c
      ext/odbc/velocis.c: proto fix

    * CODING_STANDARDS: small clarification

2002-01-04  Sascha Schumann  <sascha@schumann.cx>

    * genfiles: Remove #line's from var_unserializer.c

2002-01-04  Hartmut Holzgraefe  <hartmut@six.de>

    * ext/readline/config.m4: check for library existance before adding them

    * acinclude.m4: two new check functions for use in config.m4 file

2002-01-04  Sebastian Bergmann  <sb@sebastian-bergmann.de>

    * ext/mssql/.cvsignore: Update .cvsignore.

2002-01-03  Frank M. Kromann  <frank@frontbase.com>

    * ext/mssql/php_mssql.c:
    Making error handling thread safe. Thanks to Paco Ortiz <fjortiz@comunet.es>

2002-01-03  Hartmut Holzgraefe  <hartmut@six.de>

    * acinclude.m4
      configure.in:
    make configure more robust if extensions add libraries without
    checking for their existance first

    old behaviour was to fail on the next library check with misleading
    messages, now configure will work but make will fail with a
    'lib not found' message

    * ext/standard/string.c:
    fix for bug #14832: basename with 2nd parm corrupts source string

2002-01-03  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/ftp/php_ftp.c: - Now use ZE's builtin zend_zval_type_name().

    * ext/domxml/php_domxml.c:
    - domxml_node_add_child(): Perform deep copy before adding child to prevent
      double memory freeing.

    * ext/ftp/php_ftp.c: - FTP_BINARY is more common instead of FTP_IMAGE.

2002-01-03  Thies C. Arntzen  <thies@thieso.net>

    * ext/standard/dir.c: protos fixes by Wolfgang Drews

2002-01-03  Egon Schmid  <eschmid@s.netic.de>

    * ext/ftp/php_ftp.c:
    Please, no punctuation mark at the end of the description.

2002-01-02  Zak Greant  <zak@jobvillage.com>

    * ext/standard/basic_functions.c:
    Adding key_exists alias for array_key_exists, at the request of One-Who-Shall-Not-Be-Named-Because-He-Is-On-Vacation

2002-01-02  Stig Bakken  <ssb@fast.no>

    * pear/DB/tests/db_error.phpt
      pear/DB/tests/db_error2.phpt
      pear/tests/pear_error.phpt: * PEAR.php line number changes again

    * pear/tests/pear_registry.phpt:
    * registry files renamed from .inf to .reg, update test

    * pear/PEAR/Installer.php: * support "pear-get install XML_RPC"

    * pear/Makefile.in
      pear/scripts/.cvsignore
      pear/scripts/pear-get.in
      pear/scripts/pear.in:
    * start splitting "pear" command into "pear" and "pear-get"

    * pear/PEAR/Remote.php: * use new overloading API properly

2002-01-02  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/ftp/php_ftp.c:
    - Corrected proto for ftp_connect() (new optional parameter for initial
      custom timeout).

    * ext/ftp/ftp.c
      ext/ftp/ftp.h
      ext/ftp/php_ftp.c
      ext/ftp/php_ftp.h:
    - Added ftp_set_option(), ftp_get_option() and support for setting a
      custom timeout.

2002-01-02  jim winstead  <jimw@apache.org>

    * ext/gd/gd.c:
    jpeg2wbmp,png2wbmp: fix prototypes; _php_image_convert: simplify argument count checking

2002-01-02  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/ftp/php_ftp.c: - Fixed ftp_fget() and ftp_mkdir() protos.

    * ext/ftp/php_ftp.c: - Corrected proto for ftp_fget().

2002-01-01  Markus Fischer  <mfischer@guru.josefine.at>

    * ext/ftp/php_ftp.c
      ext/ftp/php_ftp.h:
    - Switched to zend_parse_parameters(), unified error/warning messages,
      use real resources instead of integers, adjusted prototypes (hope I got
      them all).

    * NEWS: - Summarize dbase fixes.

2002-01-01  Adam Dickmeiss  <adam@indexdata.dk>

    * ext/yaz/php_yaz.c:
    Removal of non-essential parameters for non-piggyback search.
