2005-01-24  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      main/rfc1867.c
      main/rfc1867.c:
      MFH: Use multibyte specific code for handling files and generic basename
      based code in all other instances.

    * main/rfc1867.c:
      Use multibyte specific code for handling files and generic basename based
      code in all other instances.

    * (PHP_5_0)
      ext/sysvmsg/sysvmsg.c:
      Fixed compiler warning.

2005-01-24  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS
      NEWS:
      - BFN

    * (PHP_5_0)
      NEWS:
      - MFH fix for bug #31348 CachingIterator::rewind() leaks

    * ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/tests/bug30725.phpt:
      - Second and last part of #30725 fix

    * ZendEngine2/zend_interfaces.c:
      - Allow getIterator() to fail

    * ZendEngine2/tests/bug30725.phpt:
      
      - Add new test

    * NEWS:
      - mysqli/sqlite changes

    * ext/sqlite/sqlite.c:
      - Synch with MYSQLi extension and use RuntimeException as base for
        SQLiteException if SPL is present.

2005-01-24  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * main/rfc1867.c:
      - Revert irrelevant part.

2005-01-24  Antony Dovgal  <tony2001@phpclub.net>

    * ext/sysvmsg/tests/002.phpt:
        1.1.4;
      add test

    * ext/sysvmsg/sysvmsg.c:
      fix msg_recieve() returning TRUE instead of FALSE when unserialize failed
      (patch by Andrey Hristov)

2005-01-24  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      sapi/apache2handler/php_functions.c
      sapi/apache2handler/php_functions.c:
      MFH: Fixed regression #31645 - only flush before running the subrequest.

    * sapi/apache2handler/php_functions.c:
      Fixed regression #31645 - only flush before running the subrequest.

2005-01-23  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/sysvshm/sysvshm.c:
      Fixed compiler warning.

2005-01-23  Sergey Kartashoff  <gluke@mail.ru>

    * ext/mnogosearch/php_mnogo.c
      ext/mnogosearch/php_mnogo.c:
      - A bug in mnogosearch module in ispell loading code was fixed

2005-01-22  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      Zend/zend.c
      sapi/cli/php_cli.c:
      MFH: - Memory leak fixes from ZE2 + HEAD CLI

    * (PHP_4_3)
      Zend/Zend.m4
      Zend/configure.in
      Zend/zend_strtod.c
      ZendEngine2/Zend.m4
      ZendEngine2/configure.in
      ZendEngine2/zend_strtod.c:
      - Compile fix for systems without uint32_t typedef

    * (PHP_4_3)
      scripts/phpize.in:
      MFH: - Remove also autom4te.cache dir with phpize --clean

    * scripts/phpize.in
      scripts/phpize.in:
      - Remove also autom4te.cache dir with phpize --clean

    * (PHP_5_0)
      ZendEngine2/Zend.m4
      ZendEngine2/configure.in
      ZendEngine2/zend_strtod.c:
      MFH: Compile fix for systems without uint32_t typedef

2005-01-22  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS:
      - BFN

    * ZendEngine2/zend_API.c
      ZendEngine2/zend_API.h
      ZendEngine2/zend_reflection_api.c:
      - Fix #31651 (ReflectionClass::getDefaultProperties segfaults with arrays.)

2005-01-22  Andi Gutmans  <andi@zend.com>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_execute.h:
      - Two new API calls for Derick (retreive CV name and value) by Dmitry

2005-01-22  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      acinclude.m4
      ext/dba/config.m4
      ext/mcrypt/config.m4:
      MFH: - Typofix + removed unnecessary unsets caused by it

    * acinclude.m4
      acinclude.m4
      ext/dba/config.m4
      ext/dba/config.m4
      ext/mcrypt/config.m4
      ext/mcrypt/config.m4:
      - Typofix + removed unnecessary unsets caused by it

    * (PHP_4_3)
      NEWS
      NEWS:
      massage news

2005-01-22  Andrei Zmievski  <andrei@gravitonic.com>

    * ext/exif/exif.c:
      MFB (bugfix for 24851)

2005-01-21  Andrei Zmievski  <andrei@gravitonic.com>

    * (PHP_5_0)
      NEWS
      ext/exif/exif.c:
      MFB (bugfix for 28451)

    * (PHP_4_3)
      NEWS:
      -** empty log message ***

    * (PHP_4_3)
      ext/exif/exif.c:
      Protect against corrupt EXIF headers that feature unlimited IFD tag
      nesting.

2005-01-21  Stefan Esser  <sesser@suspekt.org>

    * ext/session/session.c:
      Correctly initialize ZVAL

2005-01-21  Antony Dovgal  <tony2001@phpclub.net>

    * ext/imap/php_imap.c:
      destruct return_value

2005-01-21  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      Zend/zend_execute.c:
      Fixed bug #28086 (crash inside overload() function).

2005-01-20  Edin Kadribasic  <edink@emini.dk>

    * (PHP_5_0)
      ext/ldap/config.w32:
      MFOB: Fixed bug #29492 - missing ldap_parse_reference()

    * (PHP_4_3)
      ext/ldap/ldap.dsp:
      Fixed bug #29492 - missing ldap_parse_reference()

2005-01-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      fix error message =/

    * (PHP_4_3)
      NEWS
      NEWS
      ext/oci8/oci8.c
      ext/oci8/oci8.c:
      MFH: fix bug #31623 (OCILogin does not support password grace period)

    * ext/oci8/oci8.c:
      fix bug #31623 (OCILogin does not support password grace period)

    * ext/imap/php_imap.c:
      fix error message

    * ext/imap/php_imap.c:
      fix segfault in imap_sort() - it segfaults when options is less than 0.
      it looks like c-client bug, but we still need a workaround.
      also, convert_to_string search criteria.

2005-01-20  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/string.c
      main/rfc1867.c
      main/rfc1867.c:
      MFH: Fixed bug #31398 (When magic_guotes_gpc are enabled filenames with '
      get cutoff).

    * main/rfc1867.c:
      Fixed bug #31398 (When magic_guotes_gpc are enabled filenames with '
      get cutoff).

2005-01-20  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #30901 (can't send cookies with soap envelop).
      void SoapClient::__setCookie(string name [, string value])

2005-01-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: fix segfault in imap_headerinfo() when fromlength or subjectlength are
      less than 0
      + fix protos

    * ext/imap/php_imap.c:
      fix segfault in imap_headerinfo() when fromlength or subjectlength are less
      than 0
      + fix protos

2005-01-20  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #31422 (No Error-Logging on SoapServer-Side).

2005-01-20  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      ext/dom/php_dom.c:
      MFH: Fixed bug #28817 (Var problem when extending domDocument)

    * ext/dom/php_dom.c:
      Fixed bug #28817 (Var problem when extending domDocument).

2005-01-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/sysvsem/sysvsem.c
      ext/sysvsem/sysvsem.c:
      MFH: fix typos in error messages & resource name

    * ext/sysvshm/sysvshm.c:
      fix typos in error messages

    * ext/sysvsem/sysvsem.c:
      fix typos in error messages & resource name

2005-01-20  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ZendEngine2/zend.h
      ZendEngine2/zend_constants.c
      ext/ncurses/ncurses_functions.c
      sapi/cli/php_cli.c:
      - Revert the weird change of ZEND_STRS() macro and use the correct
        ZEND_STRL() macro.

    * (PHP_4_3)
      NEWS
      build/build2.mk
      build/buildcheck.sh
      build/libtool.m4
      scripts/Makefile.frag
      scripts/phpize.in:
      MFH: - Changed phpize not to require automake and libtool. (Jani)
      MFH: - Fixed build system to always use bundled libtool files. (Jani)
      MFH: - Rewrote of phpize routines

    * (PHP_5_0)
      NEWS
      build/build2.mk
      build/buildcheck.sh
      build/libtool.m4
      scripts/Makefile.frag
      scripts/phpize.in:
      MFH: - Changed phpize not to require automake and libtool. (Jani)
      MFH: - Fixed build system to always use bundled libtool files. (Jani)

    * build/build2.mk
      build/buildcheck.sh
      scripts/Makefile.frag
      scripts/phpize.in:
      - Changed phpize not to require automake and libtool.
      - Fixed build system to always use bundled libtool files.

    * scripts/phpize.m4:
      - Add --with-libdir to phpized builds too

    * configure.in:
      - Removed obsolete AC_PROG_RANLIB (AC_PROG_LIBTOOL does it)
      - configure --help output cleanup for --with-libdir

2005-01-19  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * buildconf
      build/build2.mk:
      Added --debug option to buildconf

    * build/build2.mk
      build/build2.mk
      build/build2.mk
      build/buildcheck.sh
      build/buildcheck.sh
      build/buildcheck.sh:
      Revert the multiple autoconf versions patch

2005-01-19  Ilia Alshanetsky  <ilia@prohost.org>

    * win32/sendmail.c:
      Stricter cc header check.

2005-01-19  Derick Rethans  <php@derickrethans.nl>

    * build/libtool.m4:
      - Add the patched libtool.m4 from snaps so that Jani can play with it.

2005-01-19  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      win32/sendmail.c
      win32/sendmail.c:
      MFH: - Fixed bug #28976 (use From: from headers if sendmail_from is empty)

    * win32/sendmail.c:
      - Fixed bug #28976 (use From: from headers if sendmail_from is empty)

    * acinclude.m4
      configure.in:
      - Fix the pic patch

    * ZendEngine2/zend_object_handlers.c:
      - Fixed bug #29183 (Undefined symbol zend_check_private with Solaris CC)

    * (PHP_5_0)
      run-tests.php:
      MFH: - Fixed bug #29136 (make test - libtool failure on MacOSX)

    * run-tests.php:
      - Fixed bug #29136 (make test - libtool failure on MacOSX)

2005-01-19  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_ini_parser.y:
      - Fix memleak

2005-01-19  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/ldap/ldap.c:
      MFH: - WS & CS fixes
      MFH: - php_error -> php_error_docref
      MFH: - Removed pointless checks (array_init, emalloc, etc.)
      MFH: - Force ldapv3 for ldap_start_tls()

    * ext/ldap/ldap.c:
      - ldap_start_tls() requires ldapv3 protocol -> force it

2005-01-18  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: Fixed bug #31142 (crash, memory leak and data loss by
      imap_mail_compose).

    * ext/imap/php_imap.c:
      Fixed bug #31142 (crash, memory leak and data loss by imap_mail_compose).

2005-01-18  Frank M. Kromann  <frank@kromann.info>

    * ext/mssql/php_mssql.h:
      Set the MSSQL_VERSION to FreeTDS when that lib is used

    * ext/mssql/config.w32:
      Rename php_freetds.dll to php_dblib.dll (still using the freetds libs).
      Allow the build of both versions in the same process

2005-01-18  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/odbc/config.m4
      ext/odbc/config.m4:
      MFH: add checks for libs & headers required by IBM DB2

    * ext/odbc/config.m4:
      add checks for libs & headers required by IBM DB2

2005-01-18  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: Fixed bug #31480 (Possible infinite loop in imap_mail_compose()).

    * ext/imap/php_imap.c:
      Fixed bug #31480 (Possible infinite loop in imap_mail_compose()).

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/string.c
      ext/standard/string.c:
      MFH: Fixed bug #31479 (Fixed crash in chunk_split(), when chunklen >
      strlen).

    * ext/standard/string.c:
      Fixed bug #31479 (Fixed crash in chunk_split(), when chunklen > strlen).

2005-01-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/session/mod_files.c
      ext/session/mod_files.c:
      MFH: - Use FD_CLOEXEC with fcntl() and make sure it is always defined

    * ext/session/mod_files.c:
      - Make sure FD_CLOEXEC is always defined.

2005-01-18  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/odbc/php_odbc.c
      ext/odbc/php_odbc.c:
      MFH: fix bug #30430 (odbc_next_result() doesn't bind values and that
      results in segfault)
      fix protos

    * ext/odbc/php_odbc.c:
      fix bug #30430 (odbc_next_result() doesn't bind values and that results in
      segfault)
      fix protos

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_compile.c:
      Fixed patch for bug #31478 (SegFault/Memory Leak with empty())

2005-01-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * tests/lang/bug30726.phpt:
      - Sanitize output

    * ext/standard/tests/serialize/bug31402.phpt:
        1.1.4;
      Add test for bug #31402

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      changed title of the bugreport

2005-01-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/standard/url_scanner_ex.c
      ext/standard/var_unserializer.c:
      - Files generated with re2c 0.9.2

    * (PHP_4_3)
      ext/standard/basic_functions.c
      ext/standard/url_scanner_ex.re:
      MFH: - Move hash table destruction to proper location

    * (PHP_5_0)
      ext/standard/var_unserializer.c:
      Touch generated file.

    * ext/standard/var_unserializer.c:
      Touch the generated file.

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * ext/standard/basic_functions.c
      ext/standard/tests/general_functions/bug31190.phpt:
      Fixed bug #31190 (exceptions in call_user_func_array())

    * ext/standard/tests/general_functions/bug31190.phpt
      ext/standard/tests/general_functions/bug31190.phpt:
      
      file bug31190.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ext/standard/basic_functions.c:
      Fixed bug #31190 (iexceptions in call_user_func_array())

2005-01-18  Magnus M‰‰tt‰  <novell@kiruna.se>

    * (PHP_4_3)
      tests/lang/bug30726.phpt
      tests/lang/bug30726.phpt:
      Add test case for bug #30726.

    * tests/lang/bug30726.phpt:
        1.1.4;
      Add test case for bug #30726.

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_execute.c:
      Fixed bug #28444 (Cannot access undefined property for object with
      overloaded property access).

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c:
      Fixed bug #28444 (Cannot access undefined property for object with
      overloaded property access). (Dmitry)

2005-01-18  Frank M. Kromann  <frank@kromann.info>

    * ext/mssql/config.w32:
      use the static dblib.lib to avoid the need for extra dll's

    * ext/mssql/config.w32:
      add --with-freetds option to win32 build.
      TODO make it work when both mssql and freetds is included or bail out with
      an error

    * ext/mssql/php_mssql.c
      ext/mssql/php_mssql.h:
      make the mssql extension work with freetds on win32

2005-01-18  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      Zend/zend_operators.h
      ZendEngine2/zend_operators.h:
      MFH: Fixed bug #30726 (-.1 like numbers are not being handled correctly).

    * ZendEngine2/zend_operators.h:
      Fixed bug #30726 (-.1 like numbers are not being handled correctly).

    * (PHP_4_3)
      NEWS
      ext/standard/file.c:
      Fixed bug #31580 (fgetcsv() problematic with "" escape sequences).

2005-01-17  Antony Dovgal  <tony2001@phpclub.net>

    * ext/odbc/php_odbc.c:
      fix weird DB2 issue:
      DB2's SQLDataSources() returns _max available_ length of result string
      instead of
      _real_ length and that results in strings a-la "\0                  "

2005-01-17  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      Zend/zend_language_scanner.l:
      MFZE2: - Fixed bug #31444 (Memory leak in zend_language_scanner.c)

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_language_scanner.l:
      MFH: - Fixed bug #31444 (Memory leak in zend_language_scanner.c)

    * ZendEngine2/zend_language_scanner.l:
      - Fixed bug #31444 (Memory leak in zend_language_scanner.c)

    * (PHP_4_3)
      ext/gd/gd.c
      ext/gd/gd.c:
      MFH: - Added some sanity checks by changing to the parameter parsing API

    * ext/gd/gd.c:
      - Added some sanity checks by changing to the parameter parsing API

2005-01-17  Christian Stocker  <chregu@bitflux.ch>

    * (PHP_5_0)
      ext/xsl/php_xsl.c
      ext/xsl/php_xsl.h:
      revert these 2 files... shouldn't have been comitted ..

    * ext/xsl/xsltprocessor.c:
      fix protos (by Mehdi Achour )

2005-01-17  Antony Dovgal  <tony2001@phpclub.net>

    * ext/odbc/php_odbc.c:
      fix leak appearing when odbc_errormsg() got invalid resource

2005-01-17  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      sapi/apache2handler/sapi_apache2.c
      sapi/apache2handler/sapi_apache2.c:
      MFH - Fixed bug #31519: Set r->status_line to SAPI-provided status-line.

    * sapi/apache2handler/sapi_apache2.c:
      Fixed bug #31519: Set r->status_line to SAPI-provided status-line.

2005-01-17  Stefan Esser  <sesser@suspekt.org>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re
      ext/standard/var_unserializer.re:
      Fix compiler warning.

2005-01-16  Stefan Esser  <sesser@suspekt.org>

    * (PHP_5_0)
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      if 2 of 3 tests are okay still do the 3rd test !

2005-01-16  Zak Greant  <zak@mysql.com>

    * ext/mysqli/mysqli_driver.c
      ext/mysqli/mysqli_embedded.c
      ext/mysqli/mysqli_exception.c
      ext/mysqli/mysqli_report.h
      ext/mysqli/mysqli_warning.c
      ext/mysqli/php_mysqli.h:
      Added standard emacs and vim modelines

2005-01-16  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      ext/mbstring/mbstring.c:
      - MFH: Fix a critical bug that request-local settings leak to another
      request.

    * (PHP_5_0)
      ext/mbstring/mb_gpc.c
      ext/mbstring/mb_gpc.h
      ext/mbstring/mbstring.c:
      -MFH: Fix a critical bug that request-local settings leak to another
      request.

    * ext/mbstring/mb_gpc.c
      ext/mbstring/mb_gpc.h
      ext/mbstring/mbstring.c:
      - Fix a critical bug that request-local settings leak to another request.

2005-01-16  Stanislav Malyshev  <stas@zend.com>

    * (PHP_4_3)
      Zend/zend_execute.c:
      another fix for overloaded objects

2005-01-15  Andi Gutmans  <andi@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_API.c:
      - Fix WS

2005-01-15  Stefan Esser  <sesser@suspekt.org>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      and use it...

    * TSRM/tsrm_virtual_cwd.c:
      finally use what we calculated

    * ext/standard/php_var.h
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      Restore unserialize() speed

2005-01-15  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/standard/streamsfuncs.c:
      CS fix

    * ext/gd/gd.c:
      ws fix

2005-01-15  Andi Gutmans  <andi@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_API.c:
      - Change to using DL_UNLOAD macro.

    * ZendEngine2/zend_API.c:
      - Unload on MAC OS X (shouldn't be a reason not to)

2005-01-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/gd/gd.c
      ext/gd/gd.c:
      MFH: - Fixed bug #31060 (imageftbbox() does not use linespacing parameter)

    * ext/gd/gd.c:
      - Fixed bug #31060 (imageftbbox() does not use linespacing parameter)

    * (PHP_4_3)
      NEWS
      NEWS
      ext/gd/gd.c
      ext/gd/gd.c:
      MFH: - Fixed bug #30120 (imagettftext() and imagettfbbox() accept too many
      parameters)

    * ext/gd/gd.c:
      - Fixed bug #30120 (imagettftext() and imagettfbbox() accept too many
      parameters)

    * (PHP_5_0)
      main/php.h
      sapi/apache_hooks/php_apache.c:
      MFH: - Fix another generated header include

    * main/php.h
      sapi/apache_hooks/php_apache.c:
      - Fix another generated header include

2005-01-14  Dmitry Stogov  <dmitry@zend.com>

    * ext/standard/streamsfuncs.c:
      Fixed SIGSEGV in ext/standard/tests/network/tcp4loop.phpt and
      ext/standard/tests/network/unixloop.phpt

    * ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug31098.phpt:
      Restore behavior of $str["str"]. (Now $str["str"] is equivalent to $str[0]
      again)

    * (PHP_5_0)
      ZendEngine2/tests/bug31098.phpt:
      Path -> pattern

    * (PHP_5_0)
      ext/standard/streamsfuncs.c:
      Fixed SIGSEGV with ext/standard/tests/network/tcp4loop.phpt and
      ext/standard/tests/network/unixloop.phpt

    * (PHP_5_0)
      ZendEngine2/zend_execute.c
      ZendEngine2/tests/bug31098.phpt:
      Revert to old behavior of $str["str"]. ($str["str"] is equivalent of
      $str[0])

2005-01-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS:
      BFN

2005-01-13  Ard Biesheuvel  <a.k.biesheuvel@ewi.tudelft.nl>

    * (PHP_4_3)
      ext/interbase/interbase.c:
      Fixed unregistered bug: corrupted 32-bit LONGs on 64-bit systems

2005-01-13  Wez Furlong  <wez.php@thebrainroom.net>

    * (PHP_5_0)
      acinclude.m4:
      MFH the extension dep macro (which is a NOP)
      so that pecl extensions with deps can build against head and 5.0.x

2005-01-13  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_execute.c
      ZendEngine2/zend_execute.c:
      Additional fix for fix of bug #29883

2005-01-13  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/odbc/config.m4
      ext/odbc/php_odbc.c
      ext/odbc/php_odbc_includes.h:
      Add support for ODBCRouter

2005-01-12  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_execute.c
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug31098.phpt
      ZendEngine2/tests/bug31098.phpt:
      Fixed bug #31098 (isset false positive)

2005-01-11  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_4_3)
      NEWS:
      Should probably note this

2005-01-11  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_5_0)
      NEWS:
      - I tend to write opposite things these days :P

    * (PHP_5_0)
      ZendEngine2/zend_execute.c
      ZendEngine2/tests/bug31098.phpt:
      - MFH: fix for bug #31098.

    * ZendEngine2/tests/bug31098.phpt
      ZendEngine2/tests/bug31436.phpt:
      
      - Test renaming

    * ZendEngine2/zend_vm_execute.h
      ZendEngine2/tests/bug31436.phpt:
      - Fix bug #31436 (isset() incorrectly returns true in dereference of a
      wrong type)

    * NEWS
      NEWS:
      - BFN

    * ext/standard/html.c:
      - Fix the fix :)

    * (PHP_4_3)
      ext/standard/html.c:
      - MFH: fix htmlentities() / html_decode_entity() UTF-8 related bugs
        initially reported by Kamesh Jayachandrana

    * (PHP_5_0)
      ext/standard/html.c
      ext/standard/tests/strings/htmlentities17.phpt:
      - MFH: fix htmlentities() / html_decode_entity() UTF-8 related bugs
        initially reported by Kamesh Jayachandran

    * ext/standard/html.c
      ext/standard/tests/strings/htmlentities17.phpt:
      - Fix htmlentities() / html_decode_entity() UTF-8 related bugs
        initially reported by Kamesh Jayachandran

    * ZendEngine2/zend_compile.c:
      - Fix bug #31478 (segfault with empty())

2005-01-11  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      NEWS
      NEWS
      sapi/apache2handler/php_functions.c
      sapi/apache2handler/php_functions.c:
      MFH: Fixed bug #30446 - virtual() includes files out of sequence,
      work around 2.0 subrequest/internal redirect issue.

    * sapi/apache2handler/php_functions.c:
      Fixed bug #30446 - virtual() includes files out of sequence,
      work around 2.0 subrequest/internal redirect issue.

2005-01-11  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * sapi/cgi/cgi_main.c:
      Fix ZTS build

2005-01-11  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      ext/dom/php_dom.c:
      MFH: revert fix for bug #28817 - fix is bad

    * ext/dom/php_dom.c:
      revert fix for bug #28817 - fix is bad

2005-01-11  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/imap/config.m4
      ext/imap/config.m4
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: - Added check for IMAP 2004 versions

    * ext/imap/config.m4
      ext/imap/php_imap.c:
      - Added check for IMAP 2005 version

2005-01-10  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ZendEngine2/zend.h
      ZendEngine2/zend_API.c:
      Fix OSX DL_UNLOAD macro and actually use it to make shared extensions
      work on OSX.

2005-01-10  Antony Dovgal  <tony2001@phpclub.net>

    * ext/iconv/config.m4:
      fix Konstantin's last name Chugeuv -> Chuguev

2005-01-10  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_4_3)
      Zend/zend.h
      Zend/zend_API.c:
      Fixed shared extensions on OSX.  We were using zend_mh_bundle_load to
      load a shared extension, but dlclose() to unload it because it was
      hardcoded.  This caused problems for extensions loaded from php.ini
      since the Apple linker does a symbol check on an unload and we hadn't
      properly unloaded the shared extensions when Apache unloaded the parent
      PHP shared library during its 2-pass load/unload/load startup routine.
      By fixing the DL_UNLOAD macro and un-hardcoding the dlclose() call this
      now works.

2005-01-10  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/standard/tests/math/bug30069.phpt:
      MFH: update test to include negative floats as strings too

    * ext/standard/tests/math/bug30069.phpt:
      update test to include negative floats as strings too

    * (PHP_4_3)
      NEWS
      sapi/cgi/cgi_main.c:
      MFH: - Fixed bug #28074 (FastCGI: stderr should be written in a FCGI stderr
      stream).

    * (PHP_5_0)
      NEWS
      sapi/cgi/cgi_main.c:
      - Fixed bug #28074 (FastCGI: stderr should be written in a FCGI stderr
      stream).
        (chris at ex-parrot dot com)

    * sapi/cgi/cgi_main.c:
      - Fixed bug #28074 (FastCGI: stderr should be written in a FCGI stderr
      stream).

    * ext/standard/php_parsedate.h
      ext/standard/php_smart_str.h
      ext/standard/php_smart_str_public.h
      ext/standard/url_scanner_ex.c
      ext/standard/url_scanner_ex.h
      ext/standard/url_scanner_ex.re:
      Missing $Id$ tag

    * ext/standard/credits_ext.h
      ext/standard/credits_sapi.h:
      - Update credits

    * ChangeLog
      ChangeLog.2004.gz:
      - Compressed 2004 Changelog

    * ZendEngine2/header
      ZendEngine2/zend_arg_defs.c
      ZendEngine2/zend_strtod.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_gen.php
      ZendEngine2/zend_vm_opcodes.h:
      - Added missing header sections.

2005-01-10  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/sqlite/sqlite.c:
      - Fix proto

    * ext/sqlite/sqlite.c:
      - Bugfix #31342: SQLite OO interface with Exceptions (hugo dot pl at gmail
      dot com)

    * ext/sqlite/php_sqlite.h
      ext/sqlite/sqlite.c:
      - Implement iterator interface in sqlite

2005-01-10  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ZendEngine2/acinclude.m4
      ZendEngine2/configure.in:
      - Added AC_ZEND_C_BIGENDIAN macro (as requested by Andi)

    * configure.in
      configure.in
      configure.in:
      - The pic/no-pic patch by Joe Orton.

2005-01-09  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      configure.in:
      Forgot this from the outside-source-dir patch

    * (PHP_4_3)
      Zend/zend.h:
      This was not supposed to be committed..

    * (PHP_5_0)
      configure.in
      TSRM/TSRM.h
      TSRM/TSRM.h
      TSRM/tsrm_config_common.h
      TSRM/tsrm_config_common.h
      Zend/zend.h
      ZendEngine2/zend.h
      ext/bcmath/libbcmath/src/config.h
      ext/bcmath/libbcmath/src/config.h
      ext/gd/gdcache.c
      ext/gd/gdcache.c
      ext/gd/gdttf.c
      ext/gd/gdttf.c
      ext/mcve/mcve.c
      ext/mcve/mcve.c
      ext/odbc/birdstep.c
      ext/odbc/birdstep.c
      ext/pcre/pcrelib/internal.h
      ext/pcre/pcrelib/internal.h
      ext/sqlite/config.m4
      ext/standard/html.c
      ext/standard/html.c
      main/alloca.c
      main/alloca.c
      main/php_compat.h
      main/php_compat.h
      main/php_scandir.c
      main/php_scandir.c
      main/php_scandir.h
      main/php_scandir.h
      main/php_sprintf.c
      main/php_syslog.h
      main/php_syslog.h
      sapi/cgi/libfcgi/include/fcgi_config.h
      sapi/cgi/libfcgi/include/fcgi_config.h:
      MFH: - Fix outside-source-tree builds. Always include generated header
      files
             with #include <some_header.h> to make sure the correct file is
      used.

    * configure.in
      TSRM/TSRM.h
      TSRM/tsrm_config_common.h
      ZendEngine2/zend.h
      ext/bcmath/libbcmath/src/config.h
      ext/gd/gdcache.c
      ext/gd/gdttf.c
      ext/mcve/mcve.c
      ext/odbc/birdstep.c
      ext/pcre/pcrelib/internal.h
      ext/sqlite/config.m4
      ext/standard/html.c
      main/alloca.c
      main/php_compat.h
      main/php_scandir.h
      main/php_sprintf.c
      main/php_syslog.h
      sapi/cgi/libfcgi/include/fcgi_config.h:
      - Fix outside-source-tree builds. Always include generated header files
        with #include <some_header.h> to make sure the correct file is used.

2005-01-09  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS:
      BFN & end of cvs spam

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/session/tests/bug31454.phpt
      ext/session/tests/bug31454.phpt
      ext/session/tests/bug31454.phpt:
      add skipif section

    * ext/session/tests/bug31454.phpt:
        1.1.4;
      add test for bug #31454

    * ext/session/session.c:
      efree(name)

    * ext/session/session.c:
      fix bug #31454 (session_set_save_handler crashes PHP when supplied
      non-existent object ref)

2005-01-09  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      Zend/zend_ini.c
      Zend/zend_ini.h:
      MFH: - Fix leak. (forgot from previous commit)

    * (PHP_4_3)
      ext/standard/basic_functions.c
      ext/standard/basic_functions.c
      main/main.c
      main/main.c
      main/php_main.h
      main/php_main.h:
      MFH: - Fix leaks with registered shutdown functions.

    * ext/standard/basic_functions.c
      main/main.c
      main/php_main.h:
      - Fix leaks with registered shutdown functions.

    * ZendEngine2/zend.c:
      MFB: - Rationalize code a bit

    * (PHP_4_3)
      Zend/zend.h:
      MFZE2: Some cleanups

    * TODO
      TODO:
      Remove done stuff

2005-01-08  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/standard/basic_functions.c
      ext/standard/basic_functions.c:
      MFH: - Fix possible crash (PR#26223). Leaks remain.

    * ext/standard/basic_functions.c:
      - Fix possible crash (PR#26223). Leaks remain.

2005-01-08  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli_embedded.c
      ext/mysqli/tests/connect.inc:
      fixed compile bug under Windows (libmysql.def currently doesn't export
      mysql_server_init/end).
      Thanks to Sebastian Bergmann for reporting

2005-01-08  Dmitry Stogov  <dmitry@zend.com>

    * TSRM/tsrm_virtual_cwd.c:
      Unnecesary check was removed

2005-01-08  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/tests/serialize/bug31442.phpt:
      - Add new test

    * ext/standard/tests/serialize/bug30234.phpt:
      - Unify

    * ext/mysqli/mysqli_exception.c:
      - Fix shared build

    * ext/mysqli/mysqli.c:
      - Remove double destroy (which is definitively wrong and prevents php from
        normal execution).

    * ext/dom/document.c:
      - Fix dependency

2005-01-08  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS:
      NN

    * ext/snmp/php_snmp.h
      ext/snmp/snmp.c:
      - Fix some memory leaks

2005-01-07  Antony Dovgal  <tony2001@phpclub.net>

    * ext/standard/head.c:
      remove duplicated include

2005-01-07  Magnus M‰‰tt‰  <novell@kiruna.se>

    * ext/posix/posix.c:
      Argh.. Committed old patch.
      Add safe_mode check and fix error code.

2005-01-07  Antony Dovgal  <tony2001@phpclub.net>

    * acinclude.m4:
      fix PHP_CHECK_64BIT macro (finally got 64bit machine to test it)

2005-01-07  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli.c:
      forgot to remove some comments in last commit:(

2005-01-07  Sebastian Bergmann  <sb@sebastian-bergmann.de>

    * ext/mysqli/mysqli_exception.c:
      ZTS fix.

    * ext/mysqli/config.w32:
      Sync with config.m4.

2005-01-07  Magnus M‰‰tt‰  <novell@kiruna.se>

    * NEWS
      ext/posix/php_posix.h
      ext/posix/posix.c:
      Added new function: posix_access()
      Feature requests: #29615, #14924

2005-01-07  Georg Richter  <georg@mysql.com>

    * NEWS:
      new mysqli stuff

    * ext/mysqli/config.m4
      ext/mysqli/mysqli.c
      ext/mysqli/mysqli_api.c
      ext/mysqli/mysqli_driver.c
      ext/mysqli/mysqli_embedded.c
      ext/mysqli/mysqli_exception.c
      ext/mysqli/mysqli_fe.c
      ext/mysqli/mysqli_nonapi.c
      ext/mysqli/mysqli_prop.c
      ext/mysqli/mysqli_report.c
      ext/mysqli/mysqli_warning.c
      ext/mysqli/php_mysqli.h
      ext/mysqli/tests/001.phpt
      ext/mysqli/tests/014.phpt
      ext/mysqli/tests/017.phpt
      ext/mysqli/tests/033.phpt
      ext/mysqli/tests/034.phpt
      ext/mysqli/tests/041.phpt
      ext/mysqli/tests/045.phpt
      ext/mysqli/tests/047.phpt
      ext/mysqli/tests/049.phpt
      ext/mysqli/tests/061.phpt
      ext/mysqli/tests/connect.inc
      ext/mysqli/tests/skipif.inc
      ext/mysqli/tests/skipifemb.inc:
      Added new classes:
      	mysqli_driver
      	mysqli_warning
      	mysqli_exception
      	mysqli_sql_exception
      
      Improved embedded server support
      changed testsuite to work also with embedded server
      
      Made statement and resultset classes extendable
      
      minor fixes

2005-01-07  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      tests/classes/array_access_001.phpt
      tests/classes/array_access_002.phpt
      tests/classes/array_access_003.phpt
      tests/classes/array_access_004.phpt:
      removed skipif sections that check for the existence of ArrayAccess class
      which is nomore a class but a interface.As the corresponding files in
      PHP-5.1-HEAD had removed the SKIPIF blocks themselves, removing the same
      for PHP5_0 branch also.

2005-01-07  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      sapi/apache2filter/sapi_apache2.c
      sapi/apache2filter/sapi_apache2.c:
      MFH: - Fixed bug #31055 (apache2filter: per request leak proportional to
      the full path of the request URI)

    * sapi/apache2filter/sapi_apache2.c:
      - Fixed bug #31055 (apache2filter: per request leak proportional to the
      full path of the request URI)

    * (PHP_4_3)
      acinclude.m4
      acinclude.m4
      configure.in
      configure.in
      scripts/phpize.m4
      scripts/phpize.m4:
      MFH: - Make sure $host_alias is never empty

    * acinclude.m4
      configure.in
      scripts/phpize.m4:
      - Make sure $host_alias is never empty

2005-01-07  Wez Furlong  <wez.php@thebrainroom.net>

    * EXTENSIONS
      EXTENSIONS
      EXTENSIONS:
      update by steph

2005-01-06  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/curl/curl.c
      ext/curl/interface.c:
      MFH: - Fixed bug #31413 (curl POSTFIELDS crashes on 64-bit platforms).

2005-01-06  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_5_0)
      ext/session/mod_files.c:
      Revert. This is always 1.

2005-01-05  Joe Orton  <jorton@redhat.com>

    * ext/curl/interface.c:
      Fix #31413: curl POSTFIELDS usage on 64-bit platforms.

2005-01-05  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      ext/session/mod_files.c:
      passing FD_CLOEXEC would be a standard way to pass argument to fcntl's last
      argument than 1

    * (PHP_5_0)
      ext/ldap/ldap.c:
      Removed redundant NEW_LIBC checks for NETWARE

    * (PHP_5_0)
      ext/ftp/php_ftp.c:
      Removed redundant NEW_LIBC checks for NetWare

    * (PHP_5_0)
      ext/ftp/ftp.c:
      Removed redundant NEW_LIBC checks

2005-01-04  Frank M. Kromann  <frank@kromann.info>

    * ext/gmp/config.w32:
      Allow gmp to compile under Win32

2005-01-04  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/standard/streamsfuncs.c:
      Fix #31408: memory leak in stream_socket_recvfrom

2005-01-04  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      main/network.c
      main/php_network.h:
      - Fix bug #31403 (php_hostconnect not defined as PHPAPI)

    * (PHP_4_3)
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      ext/gd/config.m4
      ext/gd/gd.c:
      MFH: - Fixed bug #31396 (compile fails with gd 2.0.33 without freetype)

    * ext/gd/config.m4
      ext/gd/config.m4
      ext/gd/gd.c
      ext/gd/gd.c:
      - Fixed bug #31396 (compile fails with gd 2.0.33 without freetype)

2005-01-04  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      ext/openssl/xp_ssl.c:
      Fixed compiler warning resulting from an unused variable.

2005-01-03  Stanislav Malyshev  <stas@zend.com>

    * ext/sqlite/libsqlite/src/auth.c
      ext/sqlite/libsqlite/src/auth.c:
      merge patch from http://www.sqlite.org/cvstrac/chngview?cn=1953
      bug led to PHP exiting on queries with unknown columns

    * (PHP_5_0)
      ZendEngine2/zend_language_scanner.l:
      MFH:
      Fix the following nasty bug:
      - if compile bails out from the middle of compiling, current_buffer is not
      restored
      - if current_buffer is not null, yy_switch_to_buffer will do: *yy_c_buf_p
      = yy_hold_char; on
      the next request
      - which would lead to memory corruption on next request

    * ZendEngine2/zend_language_scanner.l:
      Fix the following nasty bug:
      - if compile bails out from the middle of compiling, current_buffer is not
      restored
      - if current_buffer is not null, yy_switch_to_buffer will do: *yy_c_buf_p
      = yy_hold_char; on
      the next request
      - which would lead to memory corruption on next request

    * (PHP_4_3)
      Zend/zend_language_scanner.l:
      Fix the following nasty bug:
      - if compile bails out from the middle of compiling, current_buffer is not
      restored
      - if current_buffer is not null, yy_switch_to_buffer will do: *yy_c_buf_p
      = yy_hold_char; on the next request
      - which would lead to memory corruption on next request

2005-01-02  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      Zend/zend_highlight.c
      ZendEngine2/zend_highlight.c:
      MFH: Fixed bug #31371 (highlight_file() trims new line after heredoc).

    * ZendEngine2/zend_highlight.c:
      Fixed bug #31371 (highlight_file() trims new line after heredoc).

2005-01-02  Rob Richards  <rrichards@ctindustries.net>

    * ext/dom/document.c:
      allow parser flags to be passed to xinclude()

    * (PHP_5_0)
      NEWS:
      BFN

2005-01-02  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      ext/standard/tests/array/bug29493.phpt
      ext/standard/tests/array/bug29493.phpt
      ext/standard/tests/array/bug31213.phpt
      ext/standard/tests/array/bug31213.phpt:
      - MFH: add testcases for bug #29493 and #31213.

    * ext/standard/tests/array/bug29493.phpt
      ext/standard/tests/array/bug31213.phpt:
        1.1.4;
      - Add testcases for bug #29493 and #31213.

2005-01-01  Wez Furlong  <wez.php@thebrainroom.net>

    * (PHP_5_0)
      ext/openssl/config0.m4:
      Fix build here too

    * ext/openssl/config0.m4:
      Fix build...
